(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{dRcZ:function(t,e,r){"use strict";r.r(e),r.d(e,"VirtualScrollDemoModule",function(){return F});var i=r("ofXK"),n=r("d+P8"),o=r("fXoL");function c(t,e=0){return(t.scrollHeight-t.scrollTop-e)/t.clientHeight-1}function l(t,e=0){return(t.scrollTop-e)/t.clientHeight}function s(t,e){const r=t.scrollTop,i=e();return t.scrollTop=r,i}function a(t,e){const r=t.scrollHeight,i=t.scrollTop,n=e();return t.scrollTop===i&&(t.scrollTop+=t.scrollHeight-r),n}function h(t){return t.scrollTop}function m(t,e){t.scrollTop=e}var u=function(t){return t[t.START=-1]="START",t[t.END=1]="END",t}({});let f=(()=>{class t{constructor(t,e,r,i,n){this.viewContainer=t,this.template=e,this.rendererFactory=i,this.ngZone=n,this.start=-1,this.end=0,this.scrollListener=()=>{if(this.ignoreScrollTop===h(this.containerEl))return;this.removeSynchronously(()=>this.trim()),this.fill();const t=h(this.containerEl);t>0&&this.ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this.ignoreScrollTop=t-1,m(this.containerEl,t-1),requestAnimationFrame(()=>{this.ignoreScrollTop=t,m(this.containerEl,t)})})})},this.containerEl=r.parentNode(t.element.nativeElement)}set items(t){this._items=t,this.viewContainer.clear(),this.start=-1,this.end=0,this.rendererFactory.whenRenderingDone().then(()=>this.fill())}computeHeight(t){return this.viewContainer.get(t===u.START?0:this.viewContainer.length-1).rootNodes.reduce((t,e)=>t+e.offsetHeight,0)}remove(t){this.viewContainer.remove(t===u.START?0:this.viewContainer.length-1),t===u.START?this.start++:this.end--}add(t){const e=t===u.START?this.start:this.end;let r;return!!this._items&&(r="get"in this._items?this._items.get(e):this._items[e],void 0!==r&&(t===u.START?this.start--:this.end++,this.viewContainer.createEmbeddedView(this.template,{$implicit:r},t===u.START?0:void 0).detectChanges(),!0))}trimSide(t){let e=0;for(;this.viewContainer.length>0;){const r=this.computeHeight(t);if((t===u.START?l:c)(this.containerEl,e+r)<1)break;this.remove(t),e+=r}}trim(){this.trimSide(u.START),this.trimSide(u.END)}fillSide(t){const e=t===u.START?l:c,r=t===u.START?a:s;for(;e(this.containerEl)<1&&r(this.containerEl,()=>this.add(t)););}fill(){this.fillSide(u.END),this.fillSide(u.START)}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.containerEl.addEventListener("scroll",this.scrollListener)})}ngOnDestroy(){this.containerEl.removeEventListener("scroll",this.scrollListener)}removeSynchronously(t){this.rendererFactory.begin&&this.rendererFactory.begin();const e=t();return this.rendererFactory.end&&this.rendererFactory.end(),e}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(o.cb),o.Yb(o.X),o.Yb(o.P),o.Yb(o.Q),o.Yb(o.K))},t.\u0275dir=o.Tb({type:t,selectors:[["","clrVirtualForOf",""]],inputs:{items:["clrVirtualForOf","items"]}}),t})(),d=(()=>{class t{}return t.\u0275mod=o.Wb({type:t}),t.\u0275inj=o.Vb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var g=r("tyNb");function p(t,e){if(1&t&&(o.fc(0,"li"),o.Rc(1),o.ec()),2&t){const t=e.$implicit;o.Mb(1),o.Tc(" ",t," ")}}let v=(()=>{class t{constructor(){this.numbers=Array.from(Array(100).keys())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Sb({type:t,selectors:[["clr-virtual-scroll-array-demo"]],decls:4,vars:1,consts:[[1,"container"],[4,"clrVirtualFor","clrVirtualForOf"]],template:function(t,e){1&t&&(o.fc(0,"h3"),o.Rc(1,"100 items array"),o.ec(),o.fc(2,"ul",0),o.Pc(3,p,2,1,"li",1),o.ec()),2&t&&(o.Mb(3),o.xc("clrVirtualForOf",e.numbers))},directives:[f],styles:[".container[_ngcontent-%COMP%]{height:6rem;width:6rem;border:.05rem solid #000;overflow:auto}.slot-machine[_ngcontent-%COMP%]{height:6.5rem;width:9.1rem;border:.05rem solid #000}.slot[_ngcontent-%COMP%]{display:inline-block;height:100%;width:3rem;padding:0 .5rem;overflow:auto}.slot[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:left;height:2rem;width:2rem;margin-bottom:.25rem}"]}),t})();function w(t,e){if(1&t&&(o.fc(0,"li"),o.Rc(1),o.ec()),2&t){const t=e.$implicit;o.Mb(1),o.Tc(" ",t," ")}}let b=(()=>{class t{constructor(){this.years={get:t=>t+2017}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Sb({type:t,selectors:[["clr-virtual-scroll-infinite-generator-demo"]],decls:4,vars:1,consts:[[1,"container"],[4,"clrVirtualFor","clrVirtualForOf"]],template:function(t,e){1&t&&(o.fc(0,"h2"),o.Rc(1,"Generator for ordered infinite items"),o.ec(),o.fc(2,"ul",0),o.Pc(3,w,2,1,"li",1),o.ec()),2&t&&(o.Mb(3),o.xc("clrVirtualForOf",e.years))},directives:[f],styles:[".container[_ngcontent-%COMP%]{height:6rem;width:6rem;border:.05rem solid #000;overflow:auto}.slot-machine[_ngcontent-%COMP%]{height:6.5rem;width:9.1rem;border:.05rem solid #000}.slot[_ngcontent-%COMP%]{display:inline-block;height:100%;width:3rem;padding:0 .5rem;overflow:auto}.slot[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:left;height:2rem;width:2rem;margin-bottom:.25rem}"]}),t})();const T=["https://vignette.wikia.nocookie.net/fallout/images/2/2f/Slot_7.png","https://vignette.wikia.nocookie.net/fallout/images/c/ca/Slot_Cherry.png","https://vignette.wikia.nocookie.net/fallout/images/0/0f/Slot_Bell.png","https://vignette.wikia.nocookie.net/fallout/images/c/c6/Slot_Bar.png","https://vignette.wikia.nocookie.net/fallout/images/3/32/Slot_Lemon.png","https://vignette.wikia.nocookie.net/fallout/images/b/b7/Slot_Grapes.png","https://vignette.wikia.nocookie.net/fallout/images/f/f8/Slot_Orange.png"],y=[[6,0,1,2,3,4,5],[5,0,2,4,6,1,3],[4,0,3,6,2,5,1]];function S(t){return{get(e){return T[y[t][(r=e,(r%7+7)%7)]];var r}}}function O(t,e){1&t&&o.ac(0,"img",4),2&t&&o.xc("src",e.$implicit,o.Ic)}function A(t,e){if(1&t&&(o.fc(0,"div",2),o.Pc(1,O,1,1,"img",3),o.ec()),2&t){const t=e.$implicit;o.Mb(1),o.xc("clrVirtualForOf",t)}}let C=(()=>{class t{constructor(){this.slots=[S(0),S(1),S(2)]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Sb({type:t,selectors:[["clr-virtual-scroll-slot-machine-demo"]],decls:2,vars:1,consts:[[1,"slot-machine"],["class","slot",4,"ngFor","ngForOf"],[1,"slot"],[3,"src",4,"clrVirtualFor","clrVirtualForOf"],[3,"src"]],template:function(t,e){1&t&&(o.fc(0,"div",0),o.Pc(1,A,2,1,"div",1),o.ec()),2&t&&(o.Mb(1),o.xc("ngForOf",e.slots))},directives:[i.n,f],styles:[".container[_ngcontent-%COMP%]{height:6rem;width:6rem;border:.05rem solid #000;overflow:auto}.slot-machine[_ngcontent-%COMP%]{height:6.5rem;width:9.1rem;border:.05rem solid #000}.slot[_ngcontent-%COMP%]{display:inline-block;height:100%;width:3rem;padding:0 .5rem;overflow:auto}.slot[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:left;height:2rem;width:2rem;margin-bottom:.25rem}"]}),t})();const _=function(){return["./array"]},k=function(){return["./infinite-generator"]},M=function(){return["./slot-machine"]},R=g.c.forChild([{path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Sb({type:t,selectors:[["clr-virtual-scroll-demo"]],decls:17,vars:7,consts:[[3,"clrAlertType"],[1,"alert-text"],[3,"routerLink"]],template:function(t,e){1&t&&(o.fc(0,"clr-alert",0),o.fc(1,"clr-alert-item"),o.fc(2,"span",1),o.Rc(3," This is a private demo, nothing here is part of Clarity's public API "),o.ec(),o.ec(),o.ec(),o.fc(4,"h2"),o.Rc(5,"Virtual scroll"),o.ec(),o.fc(6,"ul"),o.fc(7,"li"),o.fc(8,"a",2),o.Rc(9,"Simple Array"),o.ec(),o.ec(),o.fc(10,"li"),o.fc(11,"a",2),o.Rc(12,"Infinite generator"),o.ec(),o.ec(),o.fc(13,"li"),o.fc(14,"a",2),o.Rc(15,"Slot machine!"),o.ec(),o.ec(),o.ec(),o.ac(16,"router-outlet")),2&t&&(o.xc("clrAlertType","alert-warning"),o.Mb(8),o.xc("routerLink",o.Ac(4,_)),o.Mb(3),o.xc("routerLink",o.Ac(5,k)),o.Mb(3),o.xc("routerLink",o.Ac(6,M)))},directives:[n.i,n.j,n.l,g.b,g.d],encapsulation:2}),t})(),children:[{path:"",redirectTo:"array",pathMatch:"full"},{path:"array",component:v},{path:"infinite-generator",component:b},{path:"slot-machine",component:C}]}]);let F=(()=>{class t{}return t.\u0275mod=o.Wb({type:t}),t.\u0275inj=o.Vb({factory:function(e){return new(e||t)},imports:[[i.c,d,n.k,R]]}),t})()}}]);